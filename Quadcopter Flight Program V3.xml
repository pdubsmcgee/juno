<?xml version='1.0' encoding='utf-8'?>
<Program name="Quadcopter Flight Program V3">
  <Variables>
    <Variable name="auto_enabled" number="0" />
    <Variable name="manual_override" number="0" />
    <Variable name="landing_armed" number="0" />
    <Variable name="nav_enabled" number="0" />
    <Variable name="hold_alt_agl" number="0" />
    <Variable name="target_alt_agl" number="0" />
    <Variable name="target_north_m" number="0" />
    <Variable name="target_east_m" number="0" />
    <Variable name="target_tolerance_m" number="0" />
    <Variable name="home_pos" number="0" />
    <Variable name="north_hat" number="0" />
    <Variable name="east_hat" number="0" />
    <Variable name="target_pos" number="0" />
    <Variable name="current_pos" number="0" />
    <Variable name="to_target" number="0" />
    <Variable name="distance_to_target" number="0" />
    <Variable name="to_target_hat" number="0" />
    <Variable name="ncomp" number="0" />
    <Variable name="ecomp" number="0" />
    <Variable name="headingrad" number="0" />
    <Variable name="headingdeg" number="0" />
    <Variable name="prop_pitch_deg" number="0" />
    <Variable name="prop_pitch_step" number="0" />
    <Variable name="prop_pitch_thrust_prev" number="0" />
    <Variable name="prop_pitch_thrust_now" number="0" />
    <Variable name="prop_pitch_throttle_zero_s" number="0" />
    <Variable name="ag1_takeoff_hold_cmd" number="0" />
    <Variable name="ag2_land_cmd" number="0" />
    <Variable name="ag3_manual_cmd" number="0" />
    <Variable name="ag4_nav_cmd" number="0" />
  </Variables>
  <Instructions>
    <Event event="FlightStart" id="0" style="flight-start" pos="0,0" />
    <Comment id="1" style="comment">
      <Constant style="comment-text" canReplace="false" text="AG1: takeoff + altitude hold | AG4: start nav to target | AG2: land | AG3: manual override" />
    </Comment>
    <SetVariable id="2" style="set-variable">
      <Variable list="false" local="false" variableName="auto_enabled" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="3" style="set-variable">
      <Variable list="false" local="false" variableName="manual_override" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="4" style="set-variable">
      <Variable list="false" local="false" variableName="landing_armed" />
      <Constant text="1" />
    </SetVariable>
    <SetVariable id="5" style="set-variable">
      <Variable list="false" local="false" variableName="nav_enabled" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="304" style="set-variable">
      <Variable list="false" local="false" variableName="ag1_takeoff_hold_cmd" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="305" style="set-variable">
      <Variable list="false" local="false" variableName="ag2_land_cmd" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="306" style="set-variable">
      <Variable list="false" local="false" variableName="ag3_manual_cmd" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="307" style="set-variable">
      <Variable list="false" local="false" variableName="ag4_nav_cmd" />
      <Constant text="0" />
    </SetVariable>
    <SetVariable id="6" style="set-variable">
      <Variable list="false" local="false" variableName="target_north_m" />
      <Constant text="1200" />
    </SetVariable>
    <SetVariable id="7" style="set-variable">
      <Variable list="false" local="false" variableName="target_east_m" />
      <Constant text="800" />
    </SetVariable>
    <SetVariable id="8" style="set-variable">
      <Variable list="false" local="false" variableName="target_tolerance_m" />
      <Constant text="100" />
    </SetVariable>
    <SetVariable id="9" style="set-variable">
      <Variable list="false" local="false" variableName="hold_alt_agl" />
      <CraftProperty property="Altitude.AGL" style="prop-altitude" />
    </SetVariable>
    <SetVariable id="10" style="set-variable">
      <Variable list="false" local="false" variableName="home_pos" />
      <CraftProperty property="Nav.Position" style="prop-nav" />
    </SetVariable>
    <SetVariable id="170" style="set-variable">
      <Variable list="false" local="false" variableName="prop_pitch_deg" />
      <Constant text="50" />
    </SetVariable>
    <SetVariable id="171" style="set-variable">
      <Variable list="false" local="false" variableName="prop_pitch_step" />
      <Constant text="1" />
    </SetVariable>
    <SetVariable id="172" style="set-variable">
      <Variable list="false" local="false" variableName="prop_pitch_thrust_prev" />
      <CraftProperty property="Performance.CurrentEngineThrust" style="prop-performance" />
    </SetVariable>
    <SetVariable id="190" style="set-variable">
      <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
      <Constant text="0" />
    </SetVariable>
    <DisplayMessage id="11" style="display">
      <Constant text="Ready. AG1 takeoff/hold, AG4 nav, AG2 land, AG3 manual." />
      <Constant number="7" />
    </DisplayMessage>
    <While id="12" style="while">
      <Constant style="true" bool="true" />
      <Instructions>
        <If id="27" style="if">
          <Comparison op="=" style="op-eq">
            <Variable list="false" local="false" variableName="auto_enabled" />
            <Constant text="1" />
          </Comparison>
          <Instructions>
            <If id="36" style="if">
              <Constant style="true" bool="true" />
              <Instructions>
                <If id="37" style="if">
                  <Comparison op="=" style="op-eq">
                    <Variable list="false" local="false" variableName="landing_armed" />
                    <Constant text="1" />
                  </Comparison>
                  <Instructions>
                    <SetTargetHeading property="pitch" id="39" style="set-heading">
                      <Constant text="90" />
                    </SetTargetHeading>
                    <If id="38" style="if">
                      <Comparison op="g" style="op-gt">
                        <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                        <Constant text="20" />
                      </Comparison>
                      <Instructions>
                        <SetInput input="slider1" id="40" style="set-input">
                          <Constant text="0.35" />
                        </SetInput>
                      </Instructions>
                    </If>
                    <ElseIf id="41" style="else">
                      <Comparison op="g" style="op-gt">
                        <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                        <Constant text="5" />
                      </Comparison>
                      <Instructions>
                        <If id="142" style="if">
                          <Comparison op="g" style="op-gt">
                            <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                            <Constant text="12" />
                          </Comparison>
                          <Instructions>
                            <SetInput input="slider1" id="143" style="set-input">
                              <Constant text="0.30" />
                            </SetInput>
                          </Instructions>
                        </If>
                        <ElseIf id="144" style="else">
                          <Constant style="true" bool="true" />
                          <Instructions>
                            <SetInput input="slider1" id="145" style="set-input">
                              <Constant text="0.25" />
                            </SetInput>
                          </Instructions>
                        </ElseIf>
                      </Instructions>
                    </ElseIf>
                    <ElseIf id="146" style="else">
                      <Comparison op="g" style="op-gt">
                        <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                        <Constant text="1" />
                      </Comparison>
                      <Instructions>
                        <SetInput input="slider1" id="147" style="set-input">
                          <Constant text="0.18" />
                        </SetInput>
                      </Instructions>
                    </ElseIf>
                    <ElseIf id="148" style="else">
                      <Constant style="true" bool="true" />
                      <Instructions>
                        <SetInput input="slider1" id="42" style="set-input">
                          <Constant text="0" />
                        </SetInput>
                        <SetVariable id="149" style="set-variable">
                          <Variable list="false" local="false" variableName="landing_armed" />
                          <Constant text="0" />
                        </SetVariable>
                        <SetVariable id="43" style="set-variable">
                          <Variable list="false" local="false" variableName="auto_enabled" />
                          <Constant text="0" />
                        </SetVariable>
                        <SetVariable id="44" style="set-variable">
                          <Variable list="false" local="false" variableName="nav_enabled" />
                          <Constant text="0" />
                        </SetVariable>
                      </Instructions>
                    </ElseIf>
                  </Instructions>
                </If>
                <ElseIf id="45" style="else">
                  <Constant style="true" bool="true" />
                  <Instructions>
                    <If id="46" style="if">
                      <Comparison op="=" style="op-eq">
                        <Variable list="false" local="false" variableName="nav_enabled" />
                        <Constant text="1" />
                      </Comparison>
                      <Instructions>
                        <SetVariable id="47" style="set-variable">
                          <Variable list="false" local="false" variableName="north_hat" />
                          <VectorOp op="norm" style="vec-op-1">
                            <CraftProperty property="Nav.North" style="prop-nav" />
                          </VectorOp>
                        </SetVariable>
                        <SetVariable id="48" style="set-variable">
                          <Variable list="false" local="false" variableName="east_hat" />
                          <VectorOp op="norm" style="vec-op-1">
                            <CraftProperty property="Nav.East" style="prop-nav" />
                          </VectorOp>
                        </SetVariable>
                        <SetVariable id="49" style="set-variable">
                          <Variable list="false" local="false" variableName="target_pos" />
                          <BinaryOp op="+" style="op-add">
                            <BinaryOp op="+" style="op-add">
                              <Variable list="false" local="false" variableName="home_pos" />
                              <BinaryOp op="*" style="op-mul">
                                <Variable list="false" local="false" variableName="north_hat" />
                                <Variable list="false" local="false" variableName="target_north_m" />
                              </BinaryOp>
                            </BinaryOp>
                            <BinaryOp op="*" style="op-mul">
                              <Variable list="false" local="false" variableName="east_hat" />
                              <Variable list="false" local="false" variableName="target_east_m" />
                            </BinaryOp>
                          </BinaryOp>
                        </SetVariable>
                        <SetVariable id="50" style="set-variable">
                          <Variable list="false" local="false" variableName="current_pos" />
                          <CraftProperty property="Nav.Position" style="prop-nav" />
                        </SetVariable>
                        <SetVariable id="51" style="set-variable">
                          <Variable list="false" local="false" variableName="to_target" />
                          <BinaryOp op="-" style="op-sub">
                            <Variable list="false" local="false" variableName="target_pos" />
                            <Variable list="false" local="false" variableName="current_pos" />
                          </BinaryOp>
                        </SetVariable>
                        <SetVariable id="52" style="set-variable">
                          <Variable list="false" local="false" variableName="distance_to_target" />
                          <VectorOp op="length" style="vec-op-1">
                            <Variable list="false" local="false" variableName="to_target" />
                          </VectorOp>
                        </SetVariable>
                        <If id="53" style="if">
                          <Comparison op="g" style="op-gt">
                            <Variable list="false" local="false" variableName="distance_to_target" />
                            <Variable list="false" local="false" variableName="target_tolerance_m" />
                          </Comparison>
                          <Instructions>
                            <SetVariable id="54" style="set-variable">
                              <Variable list="false" local="false" variableName="to_target_hat" />
                              <VectorOp op="norm" style="vec-op-1">
                                <Variable list="false" local="false" variableName="to_target" />
                              </VectorOp>
                            </SetVariable>
                            <SetVariable id="55" style="set-variable">
                              <Variable list="false" local="false" variableName="ncomp" />
                              <VectorOp op="dot" style="vec-op-2">
                                <Variable list="false" local="false" variableName="to_target_hat" />
                                <Variable list="false" local="false" variableName="north_hat" />
                              </VectorOp>
                            </SetVariable>
                            <SetVariable id="56" style="set-variable">
                              <Variable list="false" local="false" variableName="ecomp" />
                              <VectorOp op="dot" style="vec-op-2">
                                <Variable list="false" local="false" variableName="to_target_hat" />
                                <Variable list="false" local="false" variableName="east_hat" />
                              </VectorOp>
                            </SetVariable>
                            <SetVariable id="57" style="set-variable">
                              <Variable list="false" local="false" variableName="headingrad" />
                              <BinaryOp op="atan2" style="op-atan-2">
                                <Variable list="false" local="false" variableName="ecomp" />
                                <Variable list="false" local="false" variableName="ncomp" />
                              </BinaryOp>
                            </SetVariable>
                            <SetVariable id="58" style="set-variable">
                              <Variable list="false" local="false" variableName="headingdeg" />
                              <MathFunction function="rad2deg" style="op-math">
                                <Variable list="false" local="false" variableName="headingrad" />
                              </MathFunction>
                            </SetVariable>
                            <If id="60" style="if">
                              <Comparison op="l" style="op-lt">
                                <Variable list="false" local="false" variableName="headingdeg" />
                                <Constant text="0" />
                              </Comparison>
                              <Instructions>
                                <SetVariable id="61" style="set-variable">
                                  <Variable list="false" local="false" variableName="headingdeg" />
                                  <BinaryOp op="+" style="op-add">
                                    <Variable list="false" local="false" variableName="headingdeg" />
                                    <Constant text="360" />
                                  </BinaryOp>
                                </SetVariable>
                              </Instructions>
                            </If>
                            <SetTargetHeading property="heading" id="66" style="set-heading">
                              <Variable list="false" local="false" variableName="headingdeg" />
                            </SetTargetHeading>
                          </Instructions>
                        </If>
                        <SetTargetHeading property="pitch" id="67" style="set-heading">
                          <Constant text="90" />
                        </SetTargetHeading>
                        <If id="156" style="if">
                          <Comparison op="g" style="op-gt">
                            <Variable list="false" local="false" variableName="distance_to_target" />
                            <Variable list="false" local="false" variableName="target_tolerance_m" />
                          </Comparison>
                          <Instructions>
                            <SetInput input="slider1" id="68" style="set-input">
                              <Constant text="0.55" />
                            </SetInput>
                          </Instructions>
                        </If>
                        <ElseIf id="157" style="else">
                          <Constant style="true" bool="true" />
                          <Instructions>
                            <SetInput input="slider1" id="158" style="set-input">
                              <Constant text="0.50" />
                            </SetInput>
                            <SetVariable id="159" style="set-variable">
                              <Variable list="false" local="false" variableName="nav_enabled" />
                              <Constant text="0" />
                            </SetVariable>
                            <SetVariable id="160" style="set-variable">
                              <Variable list="false" local="false" variableName="hold_alt_agl" />
                              <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                            </SetVariable>
                            <DisplayMessage id="161" style="display">
                              <Constant text="Target reached. Holding position." />
                              <Constant number="3" />
                            </DisplayMessage>
                          </Instructions>
                        </ElseIf>
                      </Instructions>
                    </If>
                    <ElseIf id="69" style="else">
                      <Constant style="true" bool="true" />
                      <Instructions>
                        <If id="70" style="if">
                          <Comparison op="l" style="op-lt">
                            <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                            <Variable list="false" local="false" variableName="hold_alt_agl" />
                          </Comparison>
                          <Instructions>
                            <SetTargetHeading property="pitch" id="71" style="set-heading">
                              <Constant text="90" />
                            </SetTargetHeading>
                            <SetInput input="slider1" id="72" style="set-input">
                              <Constant text="0.60" />
                            </SetInput>
                          </Instructions>
                        </If>
                        <ElseIf id="73" style="else">
                          <Constant style="true" bool="true" />
                          <Instructions>
                            <SetTargetHeading property="pitch" id="74" style="set-heading">
                              <Constant text="90" />
                            </SetTargetHeading>
                            <SetInput input="slider1" id="75" style="set-input">
                              <Constant text="0.45" />
                            </SetInput>
                          </Instructions>
                        </ElseIf>
                      </Instructions>
                    </ElseIf>
                  </Instructions>
                </ElseIf>
              </Instructions>
            </If>
            <If id="76" style="if">
              <Comparison op="=" style="op-eq">
                <Variable list="false" local="false" variableName="manual_override" />
                <Constant text="1" />
              </Comparison>
              <Instructions>
                <SetVariable id="77" style="set-variable">
                  <Variable list="false" local="false" variableName="hold_alt_agl" />
                  <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                </SetVariable>
              </Instructions>
            </If>
            <ElseIf id="163" style="else">
              <Constant style="true" bool="true" />
              <Instructions>
                <SetVariable id="164" style="set-variable">
                  <Variable list="false" local="false" variableName="target_alt_agl" />
                  <BinaryOp op="+" style="op-add">
                    <CraftProperty property="Altitude.AGL" style="prop-altitude" />
                    <Constant text="500" />
                  </BinaryOp>
                </SetVariable>
              </Instructions>
            </ElseIf>
          </Instructions>
        </If>
        <WaitSeconds id="78" style="wait-seconds">
          <Constant text="0.05" />
        </WaitSeconds>
      </Instructions>
    </While>
    <Event event="FlightStart" id="300" style="flight-start" pos="105,0" />
    <While id="301" style="while">
      <Constant style="true" bool="true" />
      <Instructions>
        <SetVariable id="308" style="set-variable">
          <Variable list="false" local="false" variableName="ag1_takeoff_hold_cmd" />
          <ActivationGroup style="activation-group">
            <Constant number="1" />
          </ActivationGroup>
        </SetVariable>
        <SetVariable id="309" style="set-variable">
          <Variable list="false" local="false" variableName="ag2_land_cmd" />
          <ActivationGroup style="activation-group">
            <Constant number="2" />
          </ActivationGroup>
        </SetVariable>
        <SetVariable id="310" style="set-variable">
          <Variable list="false" local="false" variableName="ag3_manual_cmd" />
          <ActivationGroup style="activation-group">
            <Constant number="3" />
          </ActivationGroup>
        </SetVariable>
        <SetVariable id="311" style="set-variable">
          <Variable list="false" local="false" variableName="ag4_nav_cmd" />
          <ActivationGroup style="activation-group">
            <Constant number="4" />
          </ActivationGroup>
        </SetVariable>
        <If id="312" style="if">
          <Comparison op="=" style="op-eq">
            <Variable list="false" local="false" variableName="ag3_manual_cmd" />
            <Constant style="true" bool="true" />
          </Comparison>
          <Instructions>
            <SetVariable id="313" style="set-variable">
              <Variable list="false" local="false" variableName="manual_override" />
              <Constant text="1" />
            </SetVariable>
            <SetVariable id="314" style="set-variable">
              <Variable list="false" local="false" variableName="auto_enabled" />
              <Constant text="0" />
            </SetVariable>
            <SetVariable id="315" style="set-variable">
              <Variable list="false" local="false" variableName="nav_enabled" />
              <Constant text="0" />
            </SetVariable>
          </Instructions>
        </If>
        <ElseIf id="316" style="else">
          <Constant style="true" bool="true" />
          <Instructions>
            <SetVariable id="317" style="set-variable">
              <Variable list="false" local="false" variableName="manual_override" />
              <Constant text="0" />
            </SetVariable>
          </Instructions>
        </ElseIf>
        <If id="318" style="if">
          <Comparison op="=" style="op-eq">
            <Variable list="false" local="false" variableName="ag1_takeoff_hold_cmd" />
            <Constant style="true" bool="true" />
          </Comparison>
          <Instructions>
            <SetVariable id="319" style="set-variable">
              <Variable list="false" local="false" variableName="manual_override" />
              <Constant text="0" />
            </SetVariable>
            <SetVariable id="320" style="set-variable">
              <Variable list="false" local="false" variableName="auto_enabled" />
              <Constant text="1" />
            </SetVariable>
            <SetVariable id="321" style="set-variable">
              <Variable list="false" local="false" variableName="landing_armed" />
              <Constant text="0" />
            </SetVariable>
            <SetVariable id="322" style="set-variable">
              <Variable list="false" local="false" variableName="nav_enabled" />
              <Constant text="0" />
            </SetVariable>
            <SetVariable id="323" style="set-variable">
              <Variable list="false" local="false" variableName="hold_alt_agl" />
              <Variable list="false" local="false" variableName="target_alt_agl" />
            </SetVariable>
            <SetVariable id="324" style="set-variable">
              <Variable list="false" local="false" variableName="home_pos" />
              <CraftProperty property="Nav.Position" style="prop-nav" />
            </SetVariable>
          </Instructions>
        </If>
        <If id="325" style="if">
          <BoolOp op="and" style="op-and">
            <Comparison op="=" style="op-eq">
              <Variable list="false" local="false" variableName="ag4_nav_cmd" />
              <Constant style="true" bool="true" />
            </Comparison>
            <Comparison op="=" style="op-eq">
              <Variable list="false" local="false" variableName="auto_enabled" />
              <Constant text="1" />
            </Comparison>
          </BoolOp>
          <Instructions>
            <SetVariable id="326" style="set-variable">
              <Variable list="false" local="false" variableName="nav_enabled" />
              <Constant text="1" />
            </SetVariable>
          </Instructions>
        </If>
        <If id="327" style="if">
          <BoolOp op="and" style="op-and">
            <Comparison op="=" style="op-eq">
              <Variable list="false" local="false" variableName="ag2_land_cmd" />
              <Constant style="true" bool="true" />
            </Comparison>
            <Comparison op="=" style="op-eq">
              <Variable list="false" local="false" variableName="auto_enabled" />
              <Constant text="1" />
            </Comparison>
          </BoolOp>
          <Instructions>
            <SetVariable id="328" style="set-variable">
              <Variable list="false" local="false" variableName="landing_armed" />
              <Constant text="1" />
            </SetVariable>
            <SetVariable id="329" style="set-variable">
              <Variable list="false" local="false" variableName="nav_enabled" />
              <Constant text="0" />
            </SetVariable>
          </Instructions>
        </If>
        <WaitSeconds id="330" style="wait-seconds">
          <Constant text="0.05" />
        </WaitSeconds>
      </Instructions>
    </While>
    <Event event="FlightStart" id="173" style="flight-start" pos="210,0" />
    <While id="174" style="while">
      <Constant style="true" bool="true" />
      <Instructions>
        <SetVariable id="175" style="set-variable">
          <Variable list="false" local="false" variableName="prop_pitch_thrust_now" />
          <CraftProperty property="Performance.CurrentEngineThrust" style="prop-performance" />
        </SetVariable>
        <If id="176" style="if">
          <BoolOp op="or" style="op-or">
            <Comparison op="=" style="op-eq">
              <Variable list="false" local="false" variableName="landing_armed" />
              <Constant text="1" />
            </Comparison>
            <Comparison op="l" style="op-lt">
              <Variable list="false" local="false" variableName="prop_pitch_thrust_now" />
              <Constant text="0.01" />
            </Comparison>
          </BoolOp>
          <Instructions>
            <SetVariable id="177" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_deg" />
              <Constant text="50" />
            </SetVariable>
            <SetVariable id="178" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_step" />
              <Constant text="1" />
            </SetVariable>
            <SetVariable id="179" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
              <Constant text="0" />
            </SetVariable>
          </Instructions>
        </If>
        <ElseIf id="180" style="else">
          <Constant style="true" bool="true" />
          <Instructions>
            <If id="181" style="if">
              <Comparison op="l" style="op-lt">
                <CraftProperty property="Input.Throttle" style="prop-input" />
                <Constant text="0.01" />
              </Comparison>
              <Instructions>
                <SetVariable id="182" style="set-variable">
                  <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
                  <BinaryOp op="+" style="op-add">
                    <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
                    <CraftProperty property="Time.FrameDeltaTime" style="prop-time" />
                  </BinaryOp>
                </SetVariable>
              </Instructions>
            </If>
            <ElseIf id="183" style="else">
              <Constant style="true" bool="true" />
              <Instructions>
                <SetVariable id="184" style="set-variable">
                  <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
                  <Constant text="0" />
                </SetVariable>
              </Instructions>
            </ElseIf>
            <If id="185" style="if">
              <Comparison op="g" style="op-gt">
                <Variable list="false" local="false" variableName="prop_pitch_throttle_zero_s" />
                <Constant text="2" />
              </Comparison>
              <Instructions>
                <SetVariable id="186" style="set-variable">
                  <Variable list="false" local="false" variableName="prop_pitch_deg" />
                  <Constant text="50" />
                </SetVariable>
                <SetVariable id="187" style="set-variable">
                  <Variable list="false" local="false" variableName="prop_pitch_step" />
                  <Constant text="1" />
                </SetVariable>
              </Instructions>
            </If>
            <ElseIf id="188" style="else">
              <Constant style="true" bool="true" />
              <Instructions>
                <If id="189" style="if">
                  <Comparison op="g" style="op-gt">
                    <Variable list="false" local="false" variableName="prop_pitch_thrust_now" />
                    <Variable list="false" local="false" variableName="prop_pitch_thrust_prev" />
                  </Comparison>
                  <Instructions>
                    <SetVariable id="191" style="set-variable">
                      <Variable list="false" local="false" variableName="prop_pitch_deg" />
                      <BinaryOp op="+" style="op-add">
                        <Variable list="false" local="false" variableName="prop_pitch_deg" />
                        <Variable list="false" local="false" variableName="prop_pitch_step" />
                      </BinaryOp>
                    </SetVariable>
                  </Instructions>
                </If>
                <ElseIf id="192" style="else">
                  <Constant style="true" bool="true" />
                  <Instructions>
                    <SetVariable id="193" style="set-variable">
                      <Variable list="false" local="false" variableName="prop_pitch_step" />
                      <BinaryOp op="*" style="op-mul">
                        <Constant text="-1" />
                        <Variable list="false" local="false" variableName="prop_pitch_step" />
                      </BinaryOp>
                    </SetVariable>
                    <SetVariable id="194" style="set-variable">
                      <Variable list="false" local="false" variableName="prop_pitch_deg" />
                      <BinaryOp op="+" style="op-add">
                        <Variable list="false" local="false" variableName="prop_pitch_deg" />
                        <Variable list="false" local="false" variableName="prop_pitch_step" />
                      </BinaryOp>
                    </SetVariable>
                  </Instructions>
                </ElseIf>
              </Instructions>
            </ElseIf>
          </Instructions>
        </ElseIf>
        <If id="195" style="if">
          <Comparison op="g" style="op-gt">
            <Variable list="false" local="false" variableName="prop_pitch_deg" />
            <Constant text="90" />
          </Comparison>
          <Instructions>
            <SetVariable id="196" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_deg" />
              <Constant text="90" />
            </SetVariable>
            <SetVariable id="197" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_step" />
              <Constant text="-1" />
            </SetVariable>
          </Instructions>
        </If>
        <If id="198" style="if">
          <Comparison op="l" style="op-lt">
            <Variable list="false" local="false" variableName="prop_pitch_deg" />
            <Constant text="0" />
          </Comparison>
          <Instructions>
            <SetVariable id="199" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_deg" />
              <Constant text="0" />
            </SetVariable>
            <SetVariable id="200" style="set-variable">
              <Variable list="false" local="false" variableName="prop_pitch_step" />
              <Constant text="1" />
            </SetVariable>
          </Instructions>
        </If>
        <SetInput input="slider2" id="201" style="set-input">
          <BinaryOp op="/" style="op-div">
            <Variable list="false" local="false" variableName="prop_pitch_deg" />
            <Constant text="90" />
          </BinaryOp>
        </SetInput>
        <SetVariable id="202" style="set-variable">
          <Variable list="false" local="false" variableName="prop_pitch_thrust_prev" />
          <Variable list="false" local="false" variableName="prop_pitch_thrust_now" />
        </SetVariable>
        <WaitSeconds id="203" style="wait-seconds">
          <Constant text="0.1" />
        </WaitSeconds>
      </Instructions>
    </While>
  </Instructions>
  <Expressions />
</Program>